(()=>{"use strict";function e(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=o.querySelector(".card__delete-button"),s=o.querySelector(".card__like-button"),a=o.querySelector(".card__image"),i=o.querySelector(".card__title");return a.src=e.link,a.alt=e.name,i.textContent=e.name,s.addEventListener("click",(function(e){return n(e.currentTarget)})),a.addEventListener("click",(function(e){return r(e.target)})),c.addEventListener("click",(function(){return t(o)})),o}function t(e){e.closest(".card").remove()}function n(e){e.classList.contains("card__like-button_is-active")?e.classList.remove("card__like-button_is-active"):e.classList.add("card__like-button_is-active")}function r(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",c)}function o(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",c)}function c(e){"Escape"===e.key&&o(document.querySelector(".popup_is-opened"))}var s=document.querySelector(".popup_type_edit"),a=document.querySelector(".popup_type_new-card"),i=document.querySelector(".popup_type_image"),d=i.querySelector(".popup__image"),u=i.querySelector(".popup__caption"),l=document.querySelector(".profile__edit-button"),p=document.querySelector(".profile__add-button"),m=document.querySelector(".places__list"),_=document.querySelectorAll(".popup"),v=document.forms["edit-profile"],f=document.forms["new-place"],y=document.querySelector(".profile__title"),k=document.querySelector(".profile__description");function q(e){r(i),d.src=e.src,d.alt=e.alt,u.textContent=e.alt}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(r){m.append(e(r,t,n,q))})),l.addEventListener("click",(function(){v.elements.name.value=y.textContent,v.elements.description.value=k.textContent,r(s)})),p.addEventListener("click",(function(){return r(a)})),_.forEach((function(e){e.addEventListener("click",(function(t){(t.target.classList.contains("popup__close")||t.target.classList.contains("popup"))&&o(e)}))})),v.addEventListener("submit",(function(e){e.preventDefault(),function(e){y.textContent=e.elements.name.value,k.textContent=e.elements.description.value}(v),o(s)})),f.addEventListener("submit",(function(r){r.preventDefault();var c={name:f.elements["place-name"].value,link:f.elements.link.value};m.prepend(e(c,t,n,q)),f.reset(),o(a)}))})();